NEJ.define(["base/global","base/klass","base/element","base/event","util/event"],function(t,i,_,s,e,o,n,h,d){var a;return o._$$SimpleSlider=i._$klass(),a=o._$$SimpleSlider._$extend(e._$$EventTarget),a.__reset=function(t){this.__super(t),this.__ndrst=!!t.reset,this.__delta=parseInt(t.delta)||0,this.__track=_._$get(t.track),this.__prgrs=_._$get(t.progress),this.__doInitDomEvent([[t.thumb,"mousedown",this.__onSlideStart._$bind(this)],[document,"mousemove",this.__onSliding._$bind(this)],[document,"mouseup",this.__onSlideStop._$bind(this)],[this.__track,"mousedown",this.__onSlideTo._$bind(this)]]);var i=t.value;null==i&&(i=this.__prgrs.offsetWidth/this.__track.offsetWidth),this._$setPosition(i)},a.__destroy=function(){this.__ndrst&&this.__doUpdatePosition(0),this.__super()},a.__onSlideStart=function(t){this.__offset||(s._$stop(t),this.__offset=s._$pageX(t),this.__owidth=this.__track.offsetWidth)},a.__onSliding=function(t){if(this.__offset){var i=s._$pageX(t),_=i-this.__offset;this.__offset=i,this.__doUpdatePosition(this.__ratio+_/this.__owidth),this._$dispatchEvent("onslidechange",{ratio:this.__ratio})}},a.__onSlideStop=function(t){this.__offset&&(this.__onSliding(t),delete this.__offset,delete this.__owidth,this._$dispatchEvent("onslidestop",{ratio:this.__ratio}))},a.__onSlideTo=function(t){var i=_._$offset(this.__track).x,e=s._$pageX(t);this.__doUpdatePosition((e-i+this.__delta)/this.__track.offsetWidth),this._$dispatchEvent("onslidestop",{ratio:this.__ratio})},a.__doUpdatePosition=function(t){this.__ratio=Math.max(0,Math.min(1,t)),_._$setStyle(this.__prgrs,"width",100*this.__ratio+"%")},a._$setPosition=function(t){this.__offset||this.__doUpdatePosition(t)},a._$getPosition=function(t){return this.__ratio},CMPT&&t.copy(t.P("nej.ut"),o),o});