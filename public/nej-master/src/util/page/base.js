NEJ.define(["base/global","base/klass","base/util","base/element","base/event","util/event"],function(t,_,e,s,i,n,a,d,h,l){var o;return a._$$PageAbstract=_._$klass(),o=a._$$PageAbstract._$extend(n._$$EventTarget),o.__reset=function(t){this.__super(t),this.__pbtn=t.pbtn,this.__nbtn=t.nbtn,this.__sbtn=t.sbtn,this.__ebtn=t.ebtn,this.__name=t.event||"click",this.__parented=!!t.parented,this.__selected=t.selected||"js-selected",this.__disabled=t.disabled||"js-disabled",this.__doPageListCheck(t.list),this.__limit=t.limit||1/0,this._$updatePage(t.index||1,t.total||1)},o.__destroy=function(){this.__super(),delete this.__list,delete this.__name,delete this.__pbtn,delete this.__nbtn,delete this.__sbtn,delete this.__ebtn,delete this.__last,delete this.__total,delete this.__index,delete this.__extdata,delete this.__selected,delete this.__disabled},o.__getSelectNode=function(t){return this.__parented?t.parentNode:t},o.__doPageListCheck=function(){var t=function(t){this.__list.push(t),this.__doInitDomEvent([[t,this.__name,this.__onClick._$bind2(this,0)]])};return function(_){this.__list=[],this.__doInitDomEvent([[this.__pbtn,"click",this.__onClick._$bind2(this,-1)],[this.__nbtn,"click",this.__onClick._$bind2(this,1)],[this.__sbtn,"click",this.__onClick._$bind2(this,-2)],[this.__ebtn,"click",this.__onClick._$bind2(this,2)]]),e._$forEach(_,t,this)}}(),o.__doSetNodeIndex=function(t,_){var e=this.__getSelectNode(t);null==_?(t.innerText="",s._$setStyle(t,"display","none"),s._$delClassName(e,this.__selected)):(t.innerText=_,s._$setStyle(t,"display",""),_==this.__index?s._$addClassName(e,this.__selected):s._$delClassName(e,this.__selected))},o.__doSyncBtnState=function(){this.__index<=1?(s._$addClassName(this.__pbtn,this.__disabled),s._$addClassName(this.__sbtn,this.__disabled)):(s._$delClassName(this.__pbtn,this.__disabled),s._$delClassName(this.__sbtn,this.__disabled)),this.__index>=this.__total?(s._$addClassName(this.__nbtn,this.__disabled),s._$addClassName(this.__ebtn,this.__disabled)):(s._$delClassName(this.__nbtn,this.__disabled),s._$delClassName(this.__ebtn,this.__disabled))},o.__doRefreshPage=h,o.__doChangeIndex=function(){this.__doRefreshPage(),this.__doSyncBtnState(),this._$dispatchEvent("onchange",{last:this.__last,total:this.__total,index:this.__index,ext:this.__extdata})},o.__doSaveIndex=function(t){return t=parseInt(t),!isNaN(t)&&null!=this.__total&&(t=Math.max(1,Math.min(t,this.__total)),this.__last=this.__index,this.__index=t,!0)},o.__doSaveTotal=function(t){return t=parseInt(t),!(isNaN(t)||t<1)&&(this.__total=Math.min(t,this.__limit),!0)},o.__onClick=function(t,_){i._$stopDefault(t);var e=i._$getElement(t),n=s._$hasClassName(this.__getSelectNode(e),this.__selected),a=s._$hasClassName(e,this.__disabled);if(e&&!n&&!a){var d=e.innerText;switch(_){case 1:case-1:d=this.__index+_;break;case 2:d=this.__total;break;case-2:d=1}this._$setIndex(d)}},o._$getIndex=function(){return this.__index},o._$setIndex=function(t){var _=this.__index;this.__doSaveIndex(t),_!=this.__index&&this.__doChangeIndex()},o._$getTotal=function(){return this.__total},o._$setTotal=function(t){this.__doSaveTotal(t)&&null!=this.__index&&(this.__index=1,this.__doChangeIndex())},o._$updateTotal=function(t){this.__doSaveTotal(t)&&(this.__doRefreshPage(),this.__doSyncBtnState())},o._$updatePage=function(t,_){this.__doSaveTotal(_)&&this.__doSaveIndex(t)&&this.__doChangeIndex()},CMPT&&(t.P("nej.ut")._$$AbstractPage=a._$$PageAbstract),a});