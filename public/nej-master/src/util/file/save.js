NEJ.define(["base/global","base/element","base/event","base/util","base/chain"],function(n,e,i,a,t,r,d,u,_){var l={},$=function(){var n=function(n){var e=l[n];if(e){var i=e.url,t=e.name;if(a._$isFunction(i)&&(i=i()),!t){var r=i.split("/");t=r.pop()}return{url:i,name:t}}};return function(a){var t=i._$getElement(a),r=e._$id(t),d=n(r);d&&(t.href=d.url,"download"in t?t.download=d.name:t.target="_blank")}}();if(r._$bind=function(n,t){var r=e._$id(n);if(!l[r]){var d=e._$get(n);"A"==d.tagName&&(l[r]=a._$merge({},t),i._$addEvent(r,"click",$))}},r._$unbind=function(n){var a=e._$id(n);l[a]&&(delete l[a],i._$delEvent(a,"click",$))},t._$merge(r),CMPT){var t=n.P("nej.e");t._$bindSaveAsAction=r._$bind,t._$unbindSaveAsAction=r._$unbind}return r});