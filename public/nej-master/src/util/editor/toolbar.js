NEJ.define(["base/global","base/klass","base/element","base/event","base/util","util/event"],function(e,_,s,t,d,a,i,n,o,m){var l;return i._$$EditorToolbar=_._$klass(),l=i._$$EditorToolbar._$extend(a._$$EventTarget),l.__init=function(){this.__command={},this.__super()},l.__reset=function(e){this.__super(e),this.__selected=e.selected||"js-selected",this.__disabled=e.disabled||"js-disabled",this._$addCommand(e.list)},l.__destroy=function(){this.__super(),this.__command={},delete this.__selected,delete this.__disabled},l.__onCommand=function(e){t._$stopBubble(arguments[1]);this.__command[e];this._$dispatchEvent("oncommand",{name:e,node:this.__command[e]})},l._$addCommand=function(e){if(!d._$isArray(e)){var _=s._$dataset(e,"command");if(!_)return;this.__command[_]=s._$get(e),this.__doInitDomEvent([[e,"click",this.__onCommand._$bind(this,_)]])}d._$forEach(e,this._$addCommand,this)},l._$getCommandList=function(){return this.__command},l._$select=function(e,_){var t=this.__command[e];t&&(_?s._$addClassName(t,this.__selected):s._$delClassName(t,this.__selected))},l._$disable=function(e,_,t){var d=this.__command[e];d&&(s._$delClassName(d,t),_?s._$addClassName(d,this.__disabled):s._$delClassName(d,this.__disabled))},CMPT&&e.copy(e.P("nej.ut"),i),i});