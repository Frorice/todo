NEJ.define(["base/global","base/klass","base/element","base/event","util/editor/command"],function(t,e,n,o,_,a,i,d,s){var h;return a._$$CardCommand=e._$klass(),h=a._$$CardCommand._$extend(_._$$EditorCommand),h.__init=function(){this.__fopt={destroyable:!0,parent:document.body,onchange:this.__onChange._$bind(this)},this.__super()},h.__onChange=d,h.__doShowCard=d,h._$execute=function(t){o._$dispatchEvent(document,"click");var e=t.target,_=n._$offset(e);this.__fopt.top=_.y+e.offsetHeight+1,this.__fopt.left=_.x-1,this.__fopt.width=e.clientWidth,this.__doShowCard()},CMPT&&t.copy(t.P("nej.ut.cmd"),a),a});