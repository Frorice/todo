NEJ.define(["base/global","base/event","base/element","base/chain"],function(n,e,a,t,i,d,l,u){return i._$highlight=function(){var n={},t=2,i=function(t,i,d){n[t]=e._$page(d),a._$addClassName(t,i)},d=function(a,i,d){var u=n[a];if(u!==-1){var c=e._$page(d),h=Math.abs(c.x-u.x),o=Math.abs(c.y-u.y);(h>t||o>t)&&l(a,i)}},l=function(e,t){n[e]!==-1&&(n[e]=-1,a._$delClassName(e,t))};return function(t,u){var c=a._$id(t);c&&null==n[c]&&(n[c]=-1,u=u||a._$dataset(c,"highlight")||"js-highlight",e._$addEvent(c,"touchstart",i._$bind(null,c,u)),e._$addEvent(document,"touchmove",d._$bind(null,c,u)),e._$addEvent(document,"touchend touchcancel",l._$bind(null,c,u)))}}(),t._$merge(i),CMPT&&n.copy(n.P("nej.e"),i),i});