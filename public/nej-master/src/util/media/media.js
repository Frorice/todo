NEJ.define(["base/global","base/klass","util/event"],function(t,_,e,s,i,n,o){var u;return s._$$Media=_._$klass(),u=s._$$Media._$extend(e._$$EventTarget),u.__reset=function(t){this.__state=0,this._$source(t.url),null!=t.volume&&this._$volume(t.volume),this.__super(t)},u.__destroy=function(){this.__super(),this._$stop()},u.__doPlay=n,u.__doPause=n,u.__doStop=n,u.__onStop=function(){this.__doStateChange(4),this.__doStateChange(0)},u.__doError=function(){this.__state=0},u.__setCurrentTime=n,u.__getCurrentTime=n,u.__setVolume=n,u.__getVolume=n,u.__doStateChange=function(t){t!=this.__state&&(this.__state=t,this._$dispatchEvent("onstatechange",{state:this.__state}))},u.__onVolumeChange=function(){this._$dispatchEvent("onvolumechange",{volume:this._$volume()})},u._$duration=n,u._$source=function(t){t=t||"",t&&(this._$stop(),this.__source=t)},u._$play=function(){0!=this.__state&&3!=this.__state||this.__doPlay()},u._$pause=function(){1!=this.__state&&2!=this.__state||this.__doPause()},u._$stop=function(){0!=this.__state&&this.__doStop()},u._$seek=function(t){return null!=t&&this.__setCurrentTime(t),this.__getCurrentTime()},u._$volume=function(t){if(null!=t){var t=Math.max(0,Math.min(t,100));this.__setVolume(t/100)}return 100*this.__getVolume()},CMPT&&t.copy(t.P("nej,ut"),s),s});