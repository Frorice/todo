NEJ.define(["base/klass","base/element","./util.js","./group.js"],function(e,_,t,s,o,i,h,r){var d;return o._$$GroupManagerSingle=e._$klass(),d=o._$$GroupManagerSingle._$extend(s._$$GroupManager),d.__reset=function(e){this.__super(e),this.__classed=!!e.classed},d.__destroy=function(){this.__super(),delete this.__cmroot,delete this.__source},d._$exitable=function(e){if(!this.__source)return!0;var _=this.__source._$getData().module;return t._$isModule(_)&&_._$dispatchEvent("onbeforehide",e),!e.stopped},d._$refresh=function(){this.__source&&window.setTimeout(this._$dispatchUMI._$bind(this,this.__source._$getPath()),0)},d._$dispatchUMI=function(e){if(this._$hasUMI(e)){var s=t._$getNodeByUMI(this.__root,e),o=s._$getData();if(o.module){var h=this.__source,r=o.event,d=i;if(this.__source=s,this.__doClearStopped(s),h&&(d=h._$getData().event,r.referer=d.href||""),h==s)return void this.__doModuleRefresh(this.__source);this.__cmroot=t._$getCommonRoot(this.__root,h,s),null!=h?(h!=this.__cmroot&&(this.__classed&&_._$delClassName(document.body,d.clazz),this.__doModuleHide(h,this.__cmroot)),this.__doModuleRefresh(this.__cmroot)):this.__doModuleShow(this.__cmroot),s!=this.__cmroot&&(this.__classed&&_._$addClassName(document.body,r.clazz),this.__doModuleShow(s,this.__cmroot))}}},d._$loadedUMI=function(e){this._$hasUMI(e)&&this.__doModuleAction(this.__source)},d._$hide=function(){this.__source&&(this._$hideUMI(this.__source._$getPath()),delete this.__cmroot,delete this.__source)},o});