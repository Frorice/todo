NEJ.define(["base/element","base/event","base/util","base/platform","./holder.js"],function(e,n,l,t,a,i,d,r,u){return NEJ.patch("TR<=5.0",function(){a.__setPlaceholder=function(){var a={},i={nid:"j-holder-"+l._$uniqueID()},d=function(n){var l=e._$get(n);a[n]=2,l.value||e._$setStyle(e._$wrapInline(l,i),"display","none")},r=function(n){var l=e._$get(n);a[n]=1,l.value||e._$setStyle(e._$wrapInline(l,i),"display","")},u=function(n){var l=e._$get(n);2!=a[n]&&e._$setStyle(e._$wrapInline(l,i),"display",l.value?"none":"")},_=function(n,l){var t=e._$id(n),a=e._$wrapInline(n,{tag:"label",clazz:l,nid:i.nid});a.htmlFor=t;var d=e._$attr(n,"placeholder")||"";a.innerText="null"==d?"":d;n.offsetHeight+"px";e._$style(a,{left:0,display:n.value?"none":""})};return function(e,l){if(null==a[e.id]){_(e,l);var i=e.id;a[i]=1,n._$addEvent(e,"blur",r._$bind(null,i)),n._$addEvent(e,"focus",d._$bind(null,i)),n._$addEvent(e,"input",u._$bind(null,i)),"trident"==t._$KERNEL.engine&&"5.0"==t._$KERNEL.release&&n._$addEvent(e,"propertychange",u._$bind(null,i))}}}()}),a});