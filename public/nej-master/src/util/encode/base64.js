NEJ.define(["base/global","base/util"],function(r,n,t,e,h,a){for(var u,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c={},f={},i=0,l=o.length;i<l;i++)u=o.charAt(i),c[i]=u,f[u]=i;var g=function(r){for(var n,t=0,e=[];t<r.length;)n=r[t],n<128?(e.push(String.fromCharCode(n)),t++):n>191&&n<224?(e.push(String.fromCharCode((31&n)<<6|63&r[t+1])),t+=2):(e.push(String.fromCharCode((15&n)<<12|(63&r[t+1])<<6|63&r[t+2])),t+=3);return e.join("")},s=function(){var r=/\r\n/g;return function(n){n=n.replace(r,"\n");var t=[],e=String.fromCharCode(237);if(e.charCodeAt(0)<0)for(var h,a=0,u=n.length;a<u;a++)h=n.charCodeAt(a),h>0?t.push(h):t.push(256+h>>6|192,256+h&63|128);else for(var h,a=0,u=n.length;a<u;a++)h=n.charCodeAt(a),h<128?t.push(h):h>127&&h<2048?t.push(h>>6|192,63&h|128):t.push(h>>12|224,h>>6&63|128,63&h|128);return t}}(),p=function(r){var n=0,t=[],e=r.length%3;for(1==e&&r.push(0,0),2==e&&r.push(0);n<r.length;)t.push(c[r[n]>>2],c[(3&r[n])<<4|r[n+1]>>4],c[(15&r[n+1])<<2|r[n+2]>>6],c[63&r[n+2]]),n+=3;return 1==e&&(t[t.length-1]=t[t.length-2]="="),2==e&&(t[t.length-1]="="),t.join("")},v=function(){var r=/\n|\r|=/g;return function(n){var t=[];n=n.replace(r,"");for(var e=0,h=n.length;e<h;e+=4)t.push(f[n.charAt(e)]<<2|f[n.charAt(e+1)]>>4,(15&f[n.charAt(e+1)])<<4|f[n.charAt(e+2)]>>2,(3&f[n.charAt(e+2)])<<6|f[n.charAt(e+3)]);var a=t.length,u=n.length%4;return 2==u&&(t=t.slice(0,a-2)),3==u&&(t=t.slice(0,a-1)),t}}();return t._$b642str=function(r){return g(v(r))},t._$str2b64=function(r){try{return window.btoa(r)}catch(n){return p(s(r))}},CMPT&&r.copy(r.P("nej.u"),t),t});