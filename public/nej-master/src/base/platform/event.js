NEJ.define(["base/util","base/platform"],function(n,e,t,i,r,a){return t.__checkEvent=function(){var n={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup"},t=e._$KERNEL.prefix,i={transitionend:"TransitionEnd",animationend:"AnimationEnd",animationstart:"AnimationStart",animationiteration:"AnimationIteration",visibilitychange:"visibilitychange",fullscreenchange:"fullscreenchange"},r={enter:function(n,e,t){var i={type:"keypress"};return t&&(i.handler=function(e){13===e.keyCode&&t.call(n,e)}),i}},a=function(n){return(t.evt||t.pro)+n};return function(e,t,o){var u={type:t,handler:o};if(!("on"+t in e)){var c=n[t];if(c)return u.type=c,u;var c=i[t];if(c)return u.type=a(c),u;var v=r[t];if(v)return v.apply(null,arguments)}return u}}(),t.__addEvent=function(){var n=arguments;DEBUG&&("on"+n[1]in n[0]||console.log("not support event["+n[1]+"] for "+n[0])),n[0].addEventListener(n[1],n[2],n[3])},t.__delEvent=function(){var n=arguments;n[0].removeEventListener(n[1],n[2],n[3])},t.__dispatchEvent=function(e,t,i){var r=document.createEvent("Event");r.initEvent(t,!0,!0),n._$merge(r,i),e.dispatchEvent(r)},t});