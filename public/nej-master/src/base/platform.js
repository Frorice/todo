NEJ.define(["./global.js"],function(e,r,i,s,n){var o=this.navigator.platform,t=this.navigator.userAgent,p={mac:o,win:o,linux:o,ipad:t,ipod:t,iphone:o,android:t};r._$IS=p;for(var a in p)p[a]=new RegExp(a,"i").test(p[a]);p.ios=p.ipad||p.iphone||p.ipod,p.tablet=p.ipad,p.desktop=p.mac||p.win||p.linux&&!p.android,r._$is=function(e){return!!p[e]};var c={engine:"unknow",release:"unknow",browser:"unknow",version:"unknow",prefix:{css:"",pro:"",clz:""}};if(r._$KERNEL=c,/msie\s+(.*?);/i.test(t)||/trident\/.+rv:([\d\.]+)/i.test(t)){c.engine="trident",c.browser="ie",c.version=RegExp.$1,c.prefix={css:"ms",pro:"ms",clz:"MS",evt:"MS"};var f={6:"2.0",7:"3.0",8:"4.0",9:"5.0",10:"6.0",11:"7.0"};c.release=f[document.documentMode]||f[parseInt(c.version)]}else/webkit\/?([\d.]+?)(?=\s|$)/i.test(t)?(c.engine="webkit",c.release=RegExp.$1||"",c.prefix={css:"webkit",pro:"webkit",clz:"WebKit"}):/rv\:(.*?)\)\s+gecko\//i.test(t)?(c.engine="gecko",c.release=RegExp.$1||"",c.browser="firefox",c.prefix={css:"Moz",pro:"moz",clz:"Moz"},/firefox\/(.*?)(?=\s|$)/i.test(t)&&(c.version=RegExp.$1||"")):/presto\/(.*?)\s/i.test(t)&&(c.engine="presto",c.release=RegExp.$1||"",c.browser="opera",c.prefix={css:"O",pro:"o",clz:"O"},/version\/(.*?)(?=\s|$)/i.test(t)&&(c.version=RegExp.$1||""));if("unknow"==c.browser)for(var g,f=["chrome","maxthon","safari"],w=0,x=f.length;w<x;w++)if(g="safari"==f[w]?"version":f[w],new RegExp(g+"/(.*?)(?=\\s|$)","i").test(t)){c.browser=f[w],c.version=RegExp.$1.trim();break}return r._$SUPPORT={},r._$support=function(e){return!!r._$SUPPORT[e]},CMPT&&e.copy(e.P("nej.p"),r),r});