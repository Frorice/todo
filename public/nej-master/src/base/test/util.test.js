var f=function(){module("util");var e=NEJ.P("nej.u");test("util",function(){equal(e._$isFunction(function(){}),!0,"判断函数类型"),equal(e._$isFunction(),!1,"判断函数类型"),equal(e._$isFunction(null),!1,"判断函数类型"),equal(e._$isString("abc"),!0,"判断字符串类型"),equal(e._$isString(),!1,"判断字符串类型"),equal(e._$isString(null),!1,"判断字符串类型"),equal(e._$isNumber("123"),!1,"判断数字类型"),equal(e._$isNumber(),!1,"判断数字类型"),equal(e._$isNumber(null),!1,"判断数字类型"),equal(e._$isNumber(0),!0,"判断数字类型"),equal(e._$isNumber(-0),!0,"判断数字类型"),equal(e._$isNumber(0),!0,"判断数字类型"),equal(e._$isNumber(-1),!0,"判断数字类型"),equal(e._$isNumber(NaN),!0,"判断数字类型"),equal(e._$isNumber(Number.NEGATIVE_INFINITY),!0,"判断数字类型"),equal(e._$isNumber(Number.MAX_VALUE),!0,"判断数字类型"),equal(e._$isNumber(Number.MIN_VALUE),!0,"判断数字类型"),equal(e._$isBoolean(0),!1,"判断布尔类型"),equal(e._$isBoolean(),!1,"判断布尔类型"),equal(e._$isBoolean(null),!1,"判断布尔类型"),equal(e._$isBoolean(!1),!0,"判断布尔类型"),equal(e._$isBoolean(!0),!0,"判断布尔类型"),equal(e._$isDate(),!1,"判断date类型"),equal(e._$isDate(null),!1,"判断date类型"),equal(e._$isDate(new Date),!0,"判断date类型"),equal(e._$isArray(),!1,"判断Array类型"),equal(e._$isArray(null),!1,"判断Array类型"),equal(e._$isArray([1,"a",{a:1}]),!0,"判断Array类型"),equal(e._$isObject(function(){}),!1,"判断Object类型"),equal(e._$isObject(),!1,"判断Object类型"),equal(e._$isObject(null),!1,"判断Object类型"),equal(e._$isObject({}),!0,"判断Object类型"),equal(e._$isObject({a:1}),!0,"判断Object类型");document.getElementById("js-node");equal(e._$indexOf([1,2,3],3),2,"查找列表中的某一项"),equal(e._$encode({r:/\<|\>/g,"<":"&lt;",">":"&gt;"},"<div>"),"&lt;div&gt;","根据正则编码字符串"),equal(e._$encode({r:/\d/g,9:"t"},"99999"),"ttttt","编码字符串"),equal(e._$escape("<a>util</a>&"),"&lt;a&gt;util&lt;/a&gt;&amp;","编码html代码"),equal(e._$unescape("&lt;&amp;a&gt;util&lt;/a&gt;"),"<&a>util</a>","反编码html代码"),notEqual(e._$format(new Date,"yyyy-MM-dd"),"2012-01-11","格式化时间"),equal(e._$fixed(3.1415926,2),"3.14","浮点数值保留指定位数小数点");var a={div:"node"},u={123:"123",abc:"abc"};equal(e._$string2object("abc=abc,123=123",",").abc,u.abc,"key-value字符串转对象"),equal(e._$object2string(u),"123=123,abc=abc","key-value对象转成key=value对后用分隔符join"),equal(e._$query2object("abc=abc&123=123").abc,u.abc,"查询串转对象"),equal(e._$query2object("abc=abc&123=123")[123],u[123],"查询串转对象"),equal(e._$object2query(u),"123=123&abc=abc","查询串转对象");var t={0:"0",1:"1",2:"2",length:3};equal(e._$object2array(t)[1],"1","对象转数组"),equal(typeof e._$randString(),"string","随机一个字符串");var l=e._$randNumberString(),n=function(e){try{return!/[^\d]/.test(e)}catch(e){return!1}};equal(n(l),!0,"随机生成一个全部为数字的字符串，可指定长度");var i=e._$randNumber(0,1e3);equal("number"==typeof i&&i>0&&i<1e3,!0,"随机生成一个数字，可指定范围");var a={a:0},r=function(){a.a=2}._$aop(function(){a.a=1},function(){a.a=3});r(),equal(a.a,3,"AOP增强操作");var c=[0,1,2];e._$forEach(c,function(e,a,u){equal(a==e,!0,"foreach回调方法")});var a={a:"1",b:"2",c:"3"},b=e._$forIn(a,function(e,a,u){if("2"==e)return!0});equal(b,"b","遍历列表或对象");var c=[0,1,2,3],b=e._$reverseEach(c,function(e,a,u){return u[a]=e+1,!1});equal(c[0],1,"逆序遍历列表或对象");var a=[1,2,3],b=e._$forIn(a,function(e,a,u){if(2==e)return!0});equal(b,1,"forIn找到符合条件的项的索引或标识");var c=[1,2,3],_=e._$indexOf(c,function(e){return 2==e});equal(_,1,"线性查找指定项")}),test("安全删除对象属性",function(){var a={a:"a",b:"b"};e._$safeDelete(a,["a","b"]),equal(a.a,void 0,"安全删除对象属性")}),test("安全删除对象属性",function(){_obj={a:1,b:2},e._$safeDelete(_obj,"b"),equal(_obj.b,void 0,"安全删除对象属性")})};module("依赖模块"),test("define",function(){expect(0),define("{pro}util.test.js",["{lib}base/util.js"],f)});